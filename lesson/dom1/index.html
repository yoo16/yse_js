<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="../css/bootstrap/bootstrap.min.css">
  <link rel="stylesheet" href="../css/prism.css">
  <link rel="stylesheet" href="../css/default.css">

  <title>DOM 1</title>
</head>

<body>
  <div id="content" class="container">
    <p><a href="../index.html">Back</a></p>
    <h1 class="h1">DOM 1</h1>

    <h2 class="h2">DOM, Node, Element</h2>
    <div id="dom">
      <pre class="language-markup"><code>
      DOM
      |- Node
          |- Text(Document)
          |- Element-- HTMLElement
                    |- SVGElement
      </code></pre>
      <h3 class="h3">DOM</h3>
      <ul class="list-group">
        <li class="list-group-item">HTMLとJavaScriptをつなぐAPI</li>
        <li class="list-group-item">DOMツリー(ツリー状の集合）</li>
      </ul>

      <h3 class="h3">Node</h3>
      <ul class="list-group">
        <li class="list-group-item">DOMツリーを操作するオブジェクト</li>
        <li class="list-group-item">body, input, div ... などをオブジェクトとして操作</li>
      </ul>

      <h3 class="h3">Element</h3>
      <ul class="list-group">
        <li class="list-group-item">親である Node からプロパティを継承したもの</li>
        <li class="list-group-item">style、attribute、width、height etc...</li>
      </ul>
      </p>
    </div>

    <div id="document">
      <h2 class="h2"><label for="" class="badge badge-danger">Point</label> document オブジェクト</h2>
      <p class="alert alert-info">
        documentオブジェクトで、WebページのHTML要素(Element）にプログラムでアクセスできる
      </p>
    </div>

    <div id="query_selector">
      <h2 class="h2"><label for="" class="badge badge-danger">Point</label> document.querySelector()</h2>
      <p class="alert alert-info">
        指定したセレクタの最初の Element を取得
      </p>
      <pre class="language-javascript"><code>
      document.querySelector('Element');
      </code></pre>
      <h3 class="h3">HTML</h3>
      <script type="text/plain" class="language-markup">
      <div id="test">
        <input type="text" name="test1">
        <input type="text" name="test2">
        <input type="text" name="test3">
      </div>
      </script>

      <h3 class="h3">JS</h3>
      <pre class="language-javascript"><code>
     let input_list = document.querySelector('input');
      </code></pre>
    </div>

    <div id="query_selector_all">
      <h2 class="h2"><label for="" class="badge badge-danger">Point</label> document.querySelectorAll()</h2>
      <p class="alert alert-info">
        指定したセレクタの全ての Element を取得
      </p>
      <pre class="language-javascript"><code>
        document.querySelectorAll('Element');
      </code></pre>
      <h3 class="h3">HTML</h3>
      <script type="text/plain" class="language-markup">
      <div id="item_list">
        <input type="text" name="item_name">
        <input type="text" name="item_name">
        <input type="text" name="item_name">
      </div>
      </script>

      <p class="alert alert-info">
        全ての input を取得
      </p>
      <pre class="language-javascript"><code>
      let input_list = document.querySelectorAll('input');
      </code></pre>

      <h4 class="h4">memo</h4>
      <p class="alert alert-danger">
        querySelectorAll() の戻り値は、Array でなく NodeList 型であることに注意
      </p>

      <h3 class="h3">id や親子要素のセレクタ</h3>
      <p class="alert alert-info">
        querySelectorAll() はHTML内の全ての input が存在があると全て取得してしまうため、誤動作の原因となる。<br>
        その場合、id や 親子要素のなど指定をすると良い。
      </p>
      <pre class="language-javascript"><code>
      let test_input = document.querySelectorAll('#item_list > input');
      </code></pre>
    </div>

    <div id="foreach_value">
      <h2 class="h2">forEach と valueプロパティ</h2>
      <p class="alert alert-info">
        querySelectorAll() で取得した要素を、forEach でループする<br>
        また、各 input の値を設定する場合、value プロパティを利用する
      </p>
      <pre class="language-javascript"><code>
      let item_list_elements = document.querySelectorAll('#item_list > input');

      item_list_elements.forEach(element => {
          element.value = 10
      })
      //または
      item_list_elements.forEach(function(element) {
          element.value = 10
      }
      </code></pre>

      <div id="item_list">
        <input type="text" name="item_name">
        <input type="text" name="item_name">
        <input type="text" name="item_name">
      </div>

    </div>

    <div id="get_element_by_id">
      <h2 class="h2"><label for="" class="badge badge-danger">Point</label> document.getElementById()</h2>
      <p class="alert alert-info">
        指定したIDの Element を取得
        <br>
        id はHTML内でユニークであること
      </p>
      <pre class="language-javascript"><code>
        document.getElementById('ID Name');
        </code></pre>

      <h3 class="h3">HTML</h3>
      <script type="text/plain" class="language-markup">
      <h2 id="title"></h2>
      </script>

      <h3 class="h3">JS</h3>
      <p class="alert alert-info">
        id=title を取得
      </p>
      <pre class="language-javascript"><code>
      let title = document.getElementById('title');
      </code></pre>
    </div>


    <div id="get_elements_by_class_name">
      <h2 class="h2"><label for="" class="badge badge-danger">Point</label> document.getElementsByClassName()</h2>
      <p class="alert alert-info">
        指定した class の Element オブジェクトを取得
      </p>
      <pre class="language-javascript"><code>
      document.getElementsByClassName('Class Name');
      </code></pre>

      <h3 class="h3">HTML</h3>
      <script type="text/plain" class="language-markup">
      <ul id="city_list">
        <li class="city_name">Tokyo</li>
        <li class="city_name">Osaka</li>
        <li class="city_name">Yokohama</li>
      </ul>
      </script>

      <h3 class="h3">JS</h3>
      <p class="alert alert-info">
        name=city_name を取得
      </p>
      <pre class="language-javascript"><code>
      let city_names = document.getElementsByClassName('city_name');
      </code></pre>

      <h4 class="h4">memo</h4>
      <p class="alert alert-danger">
        querySelectorAll() の戻り値は、Array でなく HTMLCollection 型であることに注意<br>
        （そのままでは、forEach できないなど）
      </p>
      <pre class="language-javascript"><code>
      let city_names = document.getElementsByClassName('city_name');
      Array.prototype.forEach.call(city_names, function(city_name) {
          console.log(city_name.innerHTML)
      })
      //または
      city_names = Array.from(city_names)
      city_names.forEach(function(city_name) {
          console.log(city_name.innerHTML)
      })
      </code></pre>

    </div>

    <div id="get_element_by_name">
      <h2 class="h2">document.getElementsByName()</h2>
      <p class="alert alert-info">
        指定した name の NodeList コレクションを取得
      </p>
      <pre class="language-javascript"><code>
      document.getElementsByName('Name');
      </code></pre>
      <h3 class="h3">HTML</h3>
      <script type="text/plain" class="language-markup">
      <input type="text" name="code" value="1">
      <input type="text" name="lat" value="35.652832">
      <input type="text" name="lng" value="139.839478">
    </script>

      <h3 class="h3">JS</h3>
      <pre class="language-javascript"><code>
      let numbers = document.getElementsByName('number');
      </code></pre>
    </div>

    <div id="lesson">
      <h2 class="h2">練習</h2>
      <p class="alert alert-info">
        以下のHTMLから document 要素(Element)を console.log() で 確認してみる
      </p>
      <script type="text/plain" class="language-markup">
      <h2 id="title"></h2>
      <ul id="city_list">
        <li>
          <div class="city_name">Tokyo</div>
          <input type="text" name="number" value="1">
          <input type="text" name="lat" value="35.652832">
          <input type="text" name="lng" value="139.839478">
        </li>
        <li>
          <div class="city_name">Osaka</div>
          <input type="text" name="number" value="2">
          <input type="text" name="lat" value="34.669529">
          <input type="text" name="lng" value="135.497009">
        </li>
        <li>
          <div class="city_name">Yokohama</div>
          <input type="text" name="number" value="3">
          <input type="text" name="lat" value="35.443707">
          <input type="text" name="lng" value="139.638031">
        </li>
      </ul>
      </script>

      <h2 id="title"><span>Title</span></h2>
      <ul id="city_list">
        <li>
          <div class="city_name">Tokyo</div>
          <input type="text" name="number" value="1">
          <input type="text" name="lat" value="35.652832">
          <input type="text" name="lng" value="139.839478">
        </li>
        <li>
          <div class="city_name">Osaka</div>
          <input type="text" name="number" value="2">
          <input type="text" name="lat" value="34.669529">
          <input type="text" name="lng" value="135.497009">
        </li>
        <li>
          <div class="city_name">Yokohama</div>
          <input type="text" name="number" value="3">
          <input type="text" name="lat" value="35.443707">
          <input type="text" name="lng" value="139.638031">
        </li>
      </ul>
    </div>

    <p><a href="../index.html">Back</a></p>
  </div>

  <script src="js/main.js"></script>

  <script src="../js/prism.js"></script>
</body>

</html>